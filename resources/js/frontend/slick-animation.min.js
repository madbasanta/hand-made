(function($) {
    $.fn.slickAnimation = function() {
      const addClasses = (element, class1, class2) => {
        element.addClass(class1);
        element.addClass(class2);
      };
      const removeClasses = (element, class1, class2) => {
        element.removeClass(class1);
        element.removeClass(class2);
      };
      const setOpacity = (element, opacity) => {
        const style = { opacity: opacity };
        element.css(style);
      };
      const setAnimation = (element, name, duration) => {
        const prefixes = ['animation-', '-webkit-animation-', '-moz-animation-', '-o-animation-', '-ms-animation-'];
        const style = {};
        prefixes.forEach(prefix => {
          style[prefix + name] = duration + 's';
        });
        element.css(style);
      };
      const track = this.find('.slick-list .slick-track');
      const slides = track.children('div');
      const firstSlide = this.find('[data-slick-index="0"]');
      const animatedClass = 'animated';
      setOpacity(slides.not(firstSlide), 0);
      setAnimation(slides, 'fade', 1);
      this.on('beforeChange', function(event, slick, currentSlide, nextSlide) {
        const current = slides.eq(currentSlide);
        const next = slides.eq(nextSlide);
        removeClasses(current, animatedClass, 'fadeIn');
        addClasses(current, 'fadeOut', animatedClass);
        setOpacity(current, 0);
        removeClasses(next, 'fadeOut', animatedClass);
        addClasses(next, 'fadeIn', animatedClass);
        setOpacity(next, 1);
      });
    };
  })(jQuery);
  